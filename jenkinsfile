node {
   // Mark the code checkout 'stage'....
   echo 'Hello from jenkinsfile'
   stage 'Checkout'

   // Get some code from a GitHub repository
   //git url: 'https://github.com/Labdoui/PPIV.git'
   git url: 'git@candelo.socrate.vsct.fr:PPIV_team/PPIV.git', branch: 'master'


    //Cleaning stage
    stage('Cleanup') {
       sh "sbt clean compile"
    }

    // Analysis by sonar
    stage('coverage') {
       sh "sbt coverage"
    }

    //test stage
    stage('test') {
        sh "sbt test"
    }

    //Cleaning stage
    stage('report') {
        sh "sbt coverageReport"
    }

    //Quality Gates
    stage('sonar') {
        sh "export http_proxy= && export https_proxy= && sbt sonar"
    }

    //Build du JAR
    stage('assembly') {
        sh "sbt assembly"
    }

    //Deploy Nexus
    stage('publish Nexus') {
        sh "export http_proxy= && export https_proxy= && sbt publish"
    }

    // Récupération du JAR sur la VM
    stage('publish VM') {
        // Récupération de la dernière version
        def version = sh returnStdout: true, script: "export http_proxy= && export https_proxy= &&  curl --silent 'http://rogno.socrate.vsct.fr:60090/service/local/lucene/search?g=ppiv&a=ppiv_2.10&repositoryId=snapshots' | sed -n 's|<latestSnapshot>\\(.*\\)</latestSnapshot>|\\1|p' | sed -e 's/^[ \\t]*//' | tail -1 | tr -d '\n' "
        def url = "http://rogno.socrate.vsct.fr:60090/content/repositories/snapshots/ppiv/ppiv_2.10/" + version + "/ppiv_2.10-" + version + ".jar"
        // Copier sur la VM
        sh """
           echo ${url}
           ssh -t -t hdpppip1@cuccaro ls -lR
           ssh -t -t hdpppip1@cuccaro wget -N -P ./DEV ${url}
           ssh -t -t hdpppip1@cuccaro ls -lR ./DEV
        """
    }

    // Copie dans HDFS
    stage('copy to hdfs'){
        def version = sh returnStdout: true, script: "export http_proxy= && export https_proxy= &&  curl --silent 'http://rogno.socrate.vsct.fr:60090/service/local/lucene/search?g=ppiv&a=ppiv_2.10&repositoryId=snapshots' | sed -n 's|<latestSnapshot>\\(.*\\)</latestSnapshot>|\\1|p' | sed -e 's/^[ \\t]*//' | tail -1 | tr -d '\n' "
        def jarName = "ppiv_2.10-" + version + ".jar"
        // Copier sur la VM
        sh """
           ssh -t -t hdpppip1@cuccaro kinit -kt ppiv-dev.keytab ppiv_phase2_dev@SNB.SOCRATE.VSCT.FR
           ssh -t -t hdpppip1@cuccaro hdfs dfs -put -f /export/appl/hdpppip1/DEV/${jarName} /data1/GARES/refinery/PPIV_PHASE2/oozie
           ssh -t -t hdpppip1@cuccaro kdestroy
        """
    }

    // Launch Spark Submit with the JAR
    stage('Launch Spark Submit') {
        def version = sh returnStdout: true, script: "export http_proxy= && export https_proxy= &&  curl --silent 'http://rogno.socrate.vsct.fr:60090/service/local/lucene/search?g=ppiv&a=ppiv_2.10&repositoryId=snapshots' | sed -n 's|<latestSnapshot>\\(.*\\)</latestSnapshot>|\\1|p' | sed -e 's/^[ \\t]*//' | tail -1 | tr -d '\n' "
        sh """
           ssh -t -t hdpppip1@cuccaro kinit -kt ppiv-dev.keytab ppiv_phase2_dev@SNB.SOCRATE.VSCT.FR
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_01 20170827_01"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_02 20170827_02"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_03 20170827_03"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_04 20170827_04"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_05 20170827_05"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_06 20170827_06"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_07 20170827_07"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_08 20170827_08"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_09 20170827_09"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_10 20170827_10"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_11 20170827_11"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_12 20170827_12"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_13 20170827_13"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_14 20170827_14"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_15 20170827_15"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_16 20170827_16"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_17 20170827_17"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_18 20170827_18"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_19 20170827_19"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_20 20170827_20"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_21 20170827_21"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_22 20170827_22"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170827_23 20170827_23"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_00 20170828_00"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_01 20170828_01"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_02 20170828_02"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_03 20170828_03"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_04 20170828_04"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_05 20170828_05"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_06 20170828_06"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_07 20170828_07"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_08 20170828_08"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_09 20170828_09"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_10 20170828_10"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_11 20170828_11"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_12 20170828_12"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_13 20170828_13"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_14 20170828_14"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_15 20170828_15"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_16 20170828_16"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_17 20170828_17"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_18 20170828_18"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_19 20170828_19"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_20 20170828_20"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_21 20170828_21"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_22 20170828_22"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170828_23 20170828_23"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_00 20170829_00"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_01 20170829_01"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_02 20170829_02"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_03 20170829_03"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_04 20170829_04"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_05 20170829_05"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_06 20170829_06"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_07 20170829_07"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_08 20170829_08"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_09 20170829_09"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_10 20170829_10"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_11 20170829_11"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_12 20170829_12"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_13 20170829_13"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_14 20170829_14"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_15 20170829_15"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_16 20170829_16"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_17 20170829_17"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_18 20170829_18"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_19 20170829_19"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_20 20170829_20"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_21 20170829_21"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_22 20170829_22"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170829_23 20170829_23"
           ssh -t -t hdpppip1@cuccaro eval "cd DEV; spark-submit --class com.sncf.fab.ppiv.spark.batch.TraitementPPIVDriver --master yarn-client --files /usr/hdp/current/hive-client/conf/hive-site.xml --conf spark.executor.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --conf spark.driver.extraJavaOptions='-Dlog4j.configuration=file:///export/appl/hdpppip1/DEV/log4j.properties' --num-executors 2  --driver-memory 2g --executor-memory 12g --jars mylibs/commons-csv-1.4.jar,mylibs/spark-csv_2.10-1.2.0.jar,mylibs/univocity-parsers-1.0.0.jar ppiv_2.10-${version}.jar hive 20170830_00 20170830_00"
           ssh -t -t hdpppip1@cuccaro kdestroy
        """
    }
    echo 'End packaging'
 }
